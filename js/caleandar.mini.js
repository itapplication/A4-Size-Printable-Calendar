var Calendar=function(e,t,n){for(var a in this.Options={Color:"",LinkColor:"",NavShow:!0,NavVertical:!1,NavLocation:"",DateTimeShow:!0,DateTimeFormat:"mmm, yyyy",DatetimeLocation:"",EventClick:"",EventTargetWholeDay:!1,DisabledDays:[],ModelChange:e},t)this.Options[a]="string"==typeof t[a]?t[a].toLowerCase():t[a];this.Model=e||{},this.Today=new Date,this.Selected=this.Today,this.Today.Month=this.Today.getMonth(),this.Today.Year=this.Today.getFullYear(),n&&(this.Selected=n),this.Selected.Month=this.Selected.getMonth(),this.Selected.Year=this.Selected.getFullYear(),this.Selected.Days=new Date(this.Selected.Year,this.Selected.Month+1,0).getDate(),this.Selected.FirstDay=new Date(this.Selected.Year,this.Selected.Month,1).getDay(),this.Selected.LastDay=new Date(this.Selected.Year,this.Selected.Month+1,0).getDay(),this.Prev=new Date(this.Selected.Year,this.Selected.Month-1,1),0==this.Selected.Month&&(this.Prev=new Date(this.Selected.Year-1,11,1)),this.Prev.Days=new Date(this.Prev.getFullYear(),this.Prev.getMonth()+1,0).getDate()};function createCalendar(e,t,n){if(void 0!==n){var a=new Date(e.Selected.Year,e.Selected.Month+n,1);e=new Calendar(e.Model,e.Options,a),t.innerHTML=""}else for(var l in e.Options)"function"!=typeof e.Options[l]&&"object"!=typeof e.Options[l]&&e.Options[l]&&(t.className+=" "+l+"-"+e.Options[l]);var i=["January","February","March","April","May","June","July","August","September","October","November","December"];var d=document.createElement("div");d.className+="cld-main",e.Options.Color&&(d.innerHTML+="<style>.cld-main{color:"+e.Options.Color+";}</style>"),e.Options.LinkColor&&(d.innerHTML+="<style>.cld-title a{color:"+e.Options.LinkColor+";}</style>"),t.appendChild(d),e.Options.NavShow&&e.Options.NavVertical&&function(){var n=document.createElement("div");n.className+="cld-sidebar";var a=document.createElement("ul");a.className+="cld-monthList";for(var l=0;l<i.length-3;l++){var d=document.createElement("li");d.className+="cld-month";var o=l-(4-e.Selected.Month);if(o<0?o+=12:o>11&&(o-=12),0==l)d.className+=" cld-rwd cld-nav",d.addEventListener("click",function(){"function"==typeof e.Options.ModelChange?e.Model=e.Options.ModelChange():e.Model=e.Options.ModelChange,createCalendar(e,t,-1)}),d.innerHTML+='<svg height="15" width="15" viewBox="0 0 100 75" fill="rgba(255,255,255,0.5)"><polyline points="0,75 100,75 50,0"></polyline></svg>';else if(l==i.length-4)d.className+=" cld-fwd cld-nav",d.addEventListener("click",function(){"function"==typeof e.Options.ModelChange?e.Model=e.Options.ModelChange():e.Model=e.Options.ModelChange,createCalendar(e,t,1)}),d.innerHTML+='<svg height="15" width="15" viewBox="0 0 100 75" fill="rgba(255,255,255,0.5)"><polyline points="0,0 100,0 50,75"></polyline></svg>';else if(d.className+=l<4?" cld-pre":l>4?" cld-post":" cld-curr",function(){var n=l-4;d.addEventListener("click",function(){"function"==typeof e.Options.ModelChange?e.Model=e.Options.ModelChange():e.Model=e.Options.ModelChange,createCalendar(e,t,n)}),d.setAttribute("style","opacity:"+(1-Math.abs(n)/4)),d.innerHTML+=i[o].substr(0,3)}(),0==o){var c=document.createElement("li");c.className+="cld-year",c.innerHTML+=l<5?e.Selected.Year:e.Selected.Year+1,a.appendChild(c)}a.appendChild(d)}n.appendChild(a),e.Options.NavLocation?(document.getElementById(e.Options.NavLocation).innerHTML="",document.getElementById(e.Options.NavLocation).appendChild(n)):t.appendChild(n)}(),e.Options.DateTimeShow&&function(){var n=document.createElement("div");if(n.className+="cld-datetime",e.Options.NavShow&&!e.Options.NavVertical){var a=document.createElement("div");a.className+=" cld-rwd cld-nav",a.addEventListener("click",function(){createCalendar(e,t,-1)}),a.innerHTML='<svg height="15" width="15" viewBox="0 0 75 100" fill="rgba(0,0,0,0.5)"><polyline points="0,50 75,0 75,100"></polyline></svg>',n.appendChild(a)}var l=document.createElement("div");if(l.className+=" today",l.innerHTML=i[e.Selected.Month]+", "+e.Selected.Year,n.appendChild(l),e.Options.NavShow&&!e.Options.NavVertical){var o=document.createElement("div");o.className+=" cld-fwd cld-nav",o.addEventListener("click",function(){createCalendar(e,t,1)}),o.innerHTML='<svg height="15" width="15" viewBox="0 0 75 100" fill="rgba(0,0,0,0.5)"><polyline points="0,0 75,50 0,100"></polyline></svg>',n.appendChild(o)}e.Options.DatetimeLocation?(document.getElementById(e.Options.DatetimeLocation).innerHTML="",document.getElementById(e.Options.DatetimeLocation).appendChild(n)):d.appendChild(n)}(),function(){var e=document.createElement("ul");e.className="cld-labels";for(var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=0;n<t.length;n++){var a=document.createElement("li");a.className+="cld-label",a.innerHTML=t[n],e.appendChild(a)}d.appendChild(e)}(),function(){function t(e){var t=document.createElement("p");return t.className+="cld-number",t.innerHTML+=e,t}var n=document.createElement("ul");n.className+="cld-days";for(var a=0;a<e.Selected.FirstDay;a++){(y=document.createElement("li")).className+="cld-day prevMonth";for(var l=a%7,i=0;i<e.Options.DisabledDays.length;i++)l==e.Options.DisabledDays[i]&&(y.className+=" disableDay");var o=t(e.Prev.Days-e.Selected.FirstDay+(a+1));y.appendChild(o),n.appendChild(y)}for(a=0;a<e.Selected.Days;a++){for((y=document.createElement("li")).className+="cld-day currMonth",l=(a+e.Selected.FirstDay)%7,i=0;i<e.Options.DisabledDays.length;i++)l==e.Options.DisabledDays[i]&&(y.className+=" disableDay");o=t(a+1);for(var c=0;c<e.Model.length;c++){var s=e.Model[c].Date,r=new Date(e.Selected.Year,e.Selected.Month,a+1);if(s.getTime()==r.getTime()){o.className+=" eventday";var p=document.createElement("span");if(p.className+="cld-title","function"==typeof e.Model[c].Link||e.Options.EventClick){var h=document.createElement("a");if(h.setAttribute("href","#"),h.innerHTML+=e.Model[c].Title,e.Options.EventClick){var v=e.Model[c].Link;"string"!=typeof e.Model[c].Link?(h.addEventListener("click",e.Options.EventClick.bind.apply(e.Options.EventClick,[null].concat(v))),e.Options.EventTargetWholeDay&&(y.className+=" clickable",y.addEventListener("click",e.Options.EventClick.bind.apply(e.Options.EventClick,[null].concat(v))))):(h.addEventListener("click",e.Options.EventClick.bind(null,v)),e.Options.EventTargetWholeDay&&(y.className+=" clickable",y.addEventListener("click",e.Options.EventClick.bind(null,v))))}else h.addEventListener("click",e.Model[c].Link),e.Options.EventTargetWholeDay&&(y.className+=" clickable",y.addEventListener("click",e.Model[c].Link));p.appendChild(h)}else p.innerHTML+='<a href="'+e.Model[c].Link+'" target="_blank">'+e.Model[c].Title+"</a>";o.appendChild(p)}}y.appendChild(o),a+1==e.Today.getDate()&&e.Selected.Month==e.Today.Month&&e.Selected.Year==e.Today.Year&&(y.className+=" today"),n.appendChild(y)}var m=13;for(n.children.length>35?m=6:n.children.length<29&&(m=20),a=0;a<m-e.Selected.LastDay;a++){var y;for((y=document.createElement("li")).className+="cld-day nextMonth",l=(a+e.Selected.LastDay+1)%7,i=0;i<e.Options.DisabledDays.length;i++)l==e.Options.DisabledDays[i]&&(y.className+=" disableDay");o=t(a+1),y.appendChild(o),n.appendChild(y)}d.appendChild(n)}()}function caleandar(e,t,n){createCalendar(new Calendar(t,n),e)}
